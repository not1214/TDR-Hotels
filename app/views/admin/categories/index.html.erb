<div class="container-fluid">
  <div class="row justify-content-center mb-3">
    <h3 style="border-bottom: 2px solid #FF9933">カテゴリー一覧＆登録</h3>
  </div>

  <%= form_with model: @category, url: admin_categories_path, local: true do |f| %>
  <div class="row justify-content-center mt-5">
    <%= f.label :"カテゴリー名", class: "col-md-auto font-weight-bold mr-3" %>
    <%= f.text_field :category_name, autofocus: true, autocomplete: "category_name", class: "col-md-3 form-control" %>
    <%= f.submit "登録", class: "col-md-auto btn btn-success ml-3" %>
  </div>
  <% end %>
  <% if @category.errors.include?(:category_name) %>
    <div  class="col-md-3 offset-md-5 mt-2" style="color: red;"><%= @category.errors.full_messages_for(:category_name).first %></div>
  <% end %>

  <div class="row justify-content-center mt-5">
    <div class="col-md-auto">

      <table class="table table-bordered table-striped">
        <tr>
          <th width="400" style="background-color: #99FFCC">カテゴリー名</th>
          <td width="150" style="background-color: #99FFCC"></td>
        </tr>
      <% @categories.each do |category| %>
        <tr>
          <td><%= category.category_name %></td>
          <td class="text-center">
            <%= link_to "編集", edit_admin_category_path(category), class: "btn btn-primary small btn-sm" %>
            <%= link_to "削除", admin_category_path(category), method: :delete, data: { confirm: "カテゴリを削除してよろしいですか?" }, class: "btn btn-danger btn-sm ml-1" %>
          </td>
        </tr>
      <% end %>
      </table>

    </div>
  </div>
